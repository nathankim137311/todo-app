(()=>{"use strict";class t{static showForm(t){const e=t.target.textContent;"Add Task"===e?(t.target.style.backgroundColor="red",t.target.textContent="Close",document.getElementById("form-container").classList.add("active")):"Close"===e&&(t.target.style.backgroundColor="#5865F2",t.target.textContent="Add Task",document.getElementById("form-container").classList.remove("active"))}static removeAllChildNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}static filter(t){return JSON.parse(localStorage.getItem("tasks")).filter((e=>e.project===t))}static defaultValue(t,e){for(let n,s=0;n=t.options[s];s++)if(n.value==e){t.selectedIndex=s;break}}}class e{static toggleStatus(t,e){const n=JSON.parse(localStorage.getItem("tasks")),s=n.findIndex((e=>e.id==t));n[s].status=e,localStorage.setItem("tasks",JSON.stringify(n))}}class n{constructor(t,e,s,o,a){this.id=JSON.parse(localStorage.getItem("id"))+1,this.title=t,this.description=e,this.project=s,this.priority=o,this.date=a,this.status="incomplete",n.saveId(this.id)}static saveId(t){const e=t;localStorage.setItem("id",JSON.stringify(e))}static clearTaskList(){document.getElementById("task-list").innerHTML=""}static createNewTaskList(t){for(let e=0;e<t.length;e++)s(t[e])}}function s(n){const s=document.getElementById("task-list"),o=document.createElement("li");o.classList.add("todo-item-container");const a=document.createElement("div"),i=document.createElement("div");i.classList.add("todo-item"),i.setAttribute("id",`${n.id}`),i.addEventListener("click",(()=>{console.log("oh shit what up")}));const c=document.createElement("div");c.classList.add("task-info-div");const d=document.createElement("span");d.textContent=`Project: ${n.project}`;const l=document.createElement("label");l.htmlFor="title-"+n.id,l.textContent="Title:";const r=document.createElement("input");r.setAttribute("id","title-"+n.id),r.setAttribute("type","text"),r.setAttribute("readonly","readonly"),r.textContent=`${n.title}`,r.setAttribute("value",`${n.title}`);const m=document.createElement("label");m.htmlFor="date-"+n.id,m.textContent="Due date:";const u=document.createElement("input");u.setAttribute("id","date-"+n.id),u.classList.add("detail-inputs-"+n.id),u.setAttribute("type","date"),u.setAttribute("value",n.date),u.setAttribute("readonly","readonly");const p=document.createElement("label");p.htmlFor="priority-"+n.id,p.textContent="Priority level:";const g=document.createElement("select");g.setAttribute("id","priority-"+n.id),g.classList.add("detail-inputs-"+n.id),g.setAttribute("value",n.priority),g.setAttribute("disabled","disabled");const k=document.createElement("option");k.setAttribute("value","low"),k.textContent="Low";const h=document.createElement("option");h.setAttribute("value","medium"),h.textContent="Medium";const E=document.createElement("option");E.setAttribute("value","high"),E.textContent="High",g.append(k,h,E),t.defaultValue(g,n.priority);const v=document.createElement("label");v.htmlFor="description-"+n.id,v.textContent="Description:";const y=document.createElement("textarea");y.setAttribute("id","description-"+n.id),y.classList.add("detail-inputs-"+n.id),y.setAttribute("type","text"),y.setAttribute("readonly","readonly"),y.textContent=`${n.description}`,y.setAttribute("value",`${n.description}`),c.append(d,l,r,m,u,p,g,v,y),a.append(i,c);const b=document.createElement("div");b.classList.add("container-1");const C=document.createElement("input");C.classList.add("checkbox"),C.setAttribute("type","checkbox"),"complete"===n.status&&(C.checked=!0,o.classList.add("active")),C.addEventListener("change",(t=>{o.classList.toggle("active"),C.checked?e.toggleStatus(n.id,"complete"):e.toggleStatus(n.id,"incomplete")}));const I=document.createElement("span");I.textContent=n.title,b.append(C,I);const f=document.createElement("div");f.classList.add("container-2");const L=document.createElement("div"),S=document.createElement("span");S.innerHTML='<span class="material-icons-outlined"><a id="delete-icon" title="delete task" href="#">delete</a></span>',S.addEventListener("click",(t=>{const e=t.target.parentNode.parentNode.parentNode.parentNode.id;t.target.parentNode.parentNode.parentNode.parentNode.parentNode.remove(),function(t){const e=JSON.parse(localStorage.getItem("tasks")),n=e.findIndex((e=>e.id==t));e.splice(n,1),localStorage.setItem("tasks",JSON.stringify(e))}(e)})),f.append(L,S),function(t,e){switch(t.toLowerCase()){case"high":e.style.backgroundColor="#FF0000";break;case"medium":e.style.backgroundColor="#FECD19";break;case"low":e.style.backgroundColor="#6FB202"}}(n.priority,L),s.appendChild(o),o.appendChild(a),i.append(b,f)}class o{static createProject(e){const o=document.getElementById("project-list");t.removeAllChildNodes(o);for(let a=0;a<e.length;a++){const i=document.createElement("li"),c=document.createElement("a");c.setAttribute("href","#"),c.textContent=`${e[a]}`;const d=document.getElementById("project-heading");c.addEventListener("click",(()=>{const e=c.textContent;d.textContent=e,n.clearTaskList();const s=t.filter(e);n.createNewTaskList(s)}));const l=document.getElementById("all-tasks");l.addEventListener("click",(()=>{d.textContent=l.textContent,n.clearTaskList();const t=JSON.parse(localStorage.getItem("tasks"));for(let e=0;e<t.length;e++)s(t[e])})),o.appendChild(i),i.appendChild(c)}}}let a=[],i=[];class c{static saveTask(t){a.push(t),localStorage.setItem("tasks",JSON.stringify(a))}static saveProject(t){i.push(t);const e=[...new Set(i)];return localStorage.setItem("projects",JSON.stringify(e)),e}}class d extends c{static itemsFromStorage(){this.tasks(),this.projects()}static tasks(){null===localStorage.getItem("tasks")?a=[]:(a=JSON.parse(localStorage.getItem("tasks")),this.loadTasks(a))}static projects(){null===localStorage.getItem("projects")?i=[]:(i=JSON.parse(localStorage.getItem("projects")),this.loadProjects(i))}static loadTasks(t){for(let e=0;e<t.length;e++)s(t[e])}static loadProjects(t){o.createProject(t)}}const l=document.getElementById("form"),r=document.getElementById("add-task-link"),m=document.getElementById("add-task-btn"),u=document.getElementById("project-link");window.onload=function(){d.itemsFromStorage()},l.addEventListener("click",(t=>{t.preventDefault()})),r.addEventListener("click",(e=>{t.showForm(e)})),m.addEventListener("click",(()=>{const t=function(){document.getElementById("title-input").value,document.getElementById("description-input").value,document.getElementById("project-input").value,document.getElementById("priority-input").value,document.getElementById("date-input").value;const t=new n("Workout","workout before poop","Gym","high","11/21/2012");return s(t),t}();c.saveTask(t);const e=c.saveProject(t.project);o.createProject(e)})),u.addEventListener("click",(()=>{document.getElementById("project-list").classList.toggle("active")}))})();